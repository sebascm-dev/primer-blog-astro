---
import Layout from "../layouts/Layout.astro";

const postList = await Astro.glob("../pages/posts/*.md");
---

<Layout title="SebastiÃ¡n BlogSite ðŸŒŽ">
  <main class="max-w-7xl w-[80%]">
    <h1
      class="mb-4 mt-16 text-3xl font-extrabold text-gray-900 dark:text-white md:text-4xl lg:text-4xl"
    >
      <span
        class="text-transparent lg:text-2xl bg-clip-text bg-gradient-to-r from-[#F3AF42] to-[#bd2e2e]"
      >
        Ãšltimos Articulos:
      </span>
    </h1>
    <div class=" mb-16">
      {
        postList.map((post) => (
          <div class="">
            <a href={post.url}>
              <article class="overflow-hidden rounded my-4 shadow-xl">
                <div class="sm:flex sm:flex-wrap md:h-[270px]">
                  <div class="sm:w-1/2 h-56 sm:h-auto relative">
                    <img
                      class="w-full h-full absolute inset-0 object-cover"
                      src={post.frontmatter.image.url}
                      alt={post.frontmatter.image.alt}
                    />
                  </div>
                  <div class="sm:w-1/2 p-4 bg-gradient-to-r from-[#505050] to-[#353535] flex flex-col justify-between">
                    <div>
                      <h4 class="text-lg font-semibold capitalize text-white-800 mt-2">
                        {post.frontmatter.title}
                      </h4>
                      <p class="text-gray-400 mt-2 overflow-hidden whitespace-normal line-clamp-3">
                        {post.frontmatter.description}
                      </p>
                      <span class="flex flex-wrap mt-5">
                        {post.frontmatter.tags.map((tag: string) => (
                          <span class="bg-gray-100 text-gray-800 text-xs font-medium me-2 px-2.5 py-0.5 my-0.5 rounded opacity-90 dark:bg-gray-700 dark:text-gray-300">
                            #{tag}
                          </span>
                        ))}
                      </span>
                    </div>
                    <div class="flex items-center mt-3">
                      <img
                        class="h-10 w-10 object-cover rounded"
                        src={post.frontmatter.userImage}
                        alt="image"
                      />
                      <div class="pl-3 text-sm text-gray-600">
                        <p class="truncate text-gray-300">
                          {post.frontmatter.user}
                        </p>
                        <time class="text-xs text-gray-400">
                          {post.frontmatter.pubDate}
                        </time>
                      </div>
                    </div>
                  </div>
                </div>
              </article>
            </a>
          </div>
        ))
      }
    </div>
  </main>
</Layout>
